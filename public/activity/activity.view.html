<script src="../js/star-rating.js" type="text/javascript"></script>
<link href="../css/star-rating.css" media="all" rel="stylesheet" type="text/css"/>

<div class="col-xs-12 col-md-12 main" ng-controller="ActivityLogController">
    <h1 class="page-header">Events</h1>

    <h3>Events I've attended</h3>

    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th style="width: 15%">Time</th>
            <th style="width: 70%">Event</th>
            <th style="width: 15%">Date</th>
        </tr>
        </thead>

        <tbody ng-repeat="event in attendedEvents" class="accordion-group">
            <tr class="accordion-heading">
                <td class="eventTime" style="width: 15%">
                    {{event.beginTime}}
                </td>
                <td style="width: 70%">
                    <a class="accordion-toggle" data-toggle="collapse" data-target="{{event.id}}" aria-expanded="false" aria-controls="{{event._id}}" ng-click="selectEvent($index)">
                        {{event.title}}
                    </a>
                </td>
                <td style="width: 15%">
                    {{event.date}}
                </td>
            </tr>
        <tr class="accordion-body collapse" id="{{event._id}}">
            <td style="width: 15%"></td>
            <td style="width: 70%">
                <h4>Description</h4>
                <hr>
                <div>
                    {{event.description}}
                </div>
                <hr>
                <h4>Comments</h4>

                <ul class="list-unstyled">
                    <li ng-repeat-start="comment in event.comment" style="width: 100%">
                        <blockquote-reverse style="border-right: 5px solid #bddc6f"><i class="glyphicon glyphicon-user" style="padding: 5px"></i></blockquote-reverse>  {{comment.userId}} :
                    </li>
                    <li>&nbsp;</li>
                    <li style="width: 100%">
                        {{comment.message}}
                    </li>
                    <li ng-repeat-end>
                        <input type="number" value="3.5" min=0 max=5 step=0.5 data-size="xs" data-show-clear="false" data-readonly="true" my-start style="width: 100%"/>
                        <hr>
                    </li>
                </ul>
                <form class="form">
                    <textarea style="width: 100%" rows="3" class="form-control" placeholder="Please input your comment here..." ng-model="model.commentM">
                    </textarea>
                    <input my-start class="pull-left" type="number" min=0 max=5 step=0.5 data-size="xs" caption="false" data-show-clear="false" ng-model="model.rating" style="width: 100%"/>
                    <button type="submit" class="btn btn-default center-block" ng-click="submitComment()">Submit</button>
                </form>
            </td>
            <td style="width: 15%">
            </td>
        </tr>
        </tbody>
    </table>

    <h3 style="width: 100%">Events I'm going</h3>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th style="width: 15%">Time</th>
                <th style="width: 70%">Event</th>
                <th style="width: 15%">Date</th>
            </tr>
        </thead>
        <tbody ng-repeat="event in goingEvents" class="accordion-group">
            <tr class="accordion-heading">
                <td class="eventTime" style="width: 15%">
                    {{event.beginTime}}
                </td>
                <td style="width: 70%">
                    <a class="accordion-toggle" data-toggle="collapse" data-target="{{event._id}}" aria-expanded="false" aria-controls="{{event.id}}">
                        {{event.title}}
                    </a>
                </td>
                <td style="width: 15%">
                    {{event.date}}
                </td>
            </tr>
            <tr class="accordion-body collapse" id="{{event.id}}">
                <td style="width: 15%"></td>
                <td style="width: 70%">
                    <div>
                        {{event.description}}
                    </div>
                </td>
                <td style="width: 15%">
                </td>
            </tr>
        </tbody>
    </table>
</div>